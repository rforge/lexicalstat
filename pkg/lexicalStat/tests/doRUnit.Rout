
R version 2.15.0 (2012-03-30)
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R est un logiciel libre livré sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de détails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la façon de le citer dans les publications.

Tapez 'demo()' pour des démonstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

[Sauvegarde de la session précédente restaurée]

> #http://rwiki.sciviews.org/doku.php?id=developers%3arunit
> 
> if(!require("RUnit")) {
+     stop("RUnit package must be installed in order for the tests to be executed");
+ }
Le chargement a nécessité le package : RUnit
> 
> ## unit tests will not be done if RUnit is not available
> if(require("RUnit", quietly=TRUE)) {
+  
+   ## --- Setup ---
+ 
+   pkg <- "lexicalStat" 
+   if(Sys.getenv("RCMDCHECK") == "FALSE") {
+     ## Path to unit tests for standalone running under Makefile (not R CMD check)
+     ## PKG/tests/../inst/unitTests
+     path <- file.path(getwd(), "..", "tests", "unitTests")
+   } else {
+     ## Path to unit tests for R CMD check
+     ## PKG.Rcheck/tests/../PKG/unitTests
+     path <- system.file(package=pkg, "unitTests")
+   }
+   cat("\nRunning unit tests\n")
+   print(list(pkg=pkg, getwd=getwd(), pathToUnitTests=path))
+  
+   library(package=pkg, character.only=TRUE)
+  
+   ## If desired, load the name space to allow testing of private functions
+   ## if (is.element(pkg, loadedNamespaces()))
+   ##     attach(loadNamespace(pkg), name=paste("namespace", pkg, sep=":"), pos=3)
+   ##
+   ## or simply call PKG:::myPrivateFunction() in tests
+  
+   ## --- Testing ---
+ 
+   ## Define tests
+   testSuite <- defineTestSuite(name=paste(pkg, "unit testing"),
+                                           dirs=path);
+   ## Run
+   tests <- runTestSuite(testSuite)
+ 
+   ## Default report name
+   pathReport <- file.path(path, "report")
+  
+   ## Report to stdout and text files
+   cat("------------------- UNIT TEST SUMMARY ---------------------\n\n")
+   printTextProtocol(tests, showDetails=FALSE)
+   printTextProtocol(tests, showDetails=FALSE,
+                     fileName=paste(pathReport, "Summary.txt", sep=""))
+   printTextProtocol(tests, showDetails=TRUE,
+                     fileName=paste(pathReport, ".txt", sep=""))
+  
+   ## Report to HTML file
+   printHTMLProtocol(tests, fileName=paste(pathReport, ".html", sep=""))
+  
+   ## Return stop() to cause R CMD check stop in case of
+   ##  - failures i.e. FALSE to unit tests or
+   ##  - errors i.e. R errors
+   tmp <- getErrors(tests)
+   if(tmp$nFail > 0 | tmp$nErr > 0) {
+     stop(paste("\n\nunit testing failed (#test failures: ", tmp$nFail,
+                ", #R errors: ",  tmp$nErr, ")\n\n", sep=""))
+   }
+ } else {
+   warning("cannot run unit tests -- package RUnit is not available")
+ }

Running unit tests
$pkg
[1] "lexicalStat"

$getwd
[1] "/Users/sylvainloiseau/workspace/LexicalStat/Current/pkg/lexicalStat/tests"

$pathToUnitTests
[1] "/Users/sylvainloiseau/workspace/LexicalStat/Current/pkg/lexicalStat/tests/../tests/unitTests"

Le chargement a nécessité le package : Matrix
Le chargement a nécessité le package : lattice
Le chargement a nécessité le package : XML
Le chargement a nécessité le package : plyr

Attachement du package : ‘lexicalStat’

The following object(s) are masked from ‘package:stats’:

    binomial



Executing test function test_frequencyList_print  ... A frequency list:
Number of forms: 11 
Number of tokens: 20 
Number of hapax: 6 
Top frequencies :K (4) B (3) P (3) C (2) L (2) E (1) I (1) M (1) N (1) Q (1)
 done successfully.



Executing test function test_frequencyList_vector2frequencyList  ...  done successfully.



Executing test function test_frequencyList_vector2frequencyList_empty_names  ... Error in vector2frequencyList(x) : empty string cannot be a type name
 done successfully.



Executing test function test_frequencyList_vector2frequencyList_nonames  ... Error in vector2frequencyList(x) : frequencyList needs an named vector
 done successfully.



Executing test function test_frequencyList_vector2frequencyList_not_numeric  ... Error in vector2frequencyList(LETTERS[1:10]) : 
  frequencyList needs an numeric vector
 done successfully.



Executing test function test_frequencyList_vector2frequencyList2  ...  done successfully.



Executing test function test_asFullText.tabulated  ...  done successfully.



Executing test function test_get.parts.containing.all.form  ...  done successfully.



Executing test function test_get.parts.containing.form  ...  done successfully.



Executing test function test_print.fullText  ... [1] "A raw corpus with 3 parts and  298 tokens"
le croissance de produit int rieur brut pib devoir se...
« Il ne y avoir aucun raison ni besoin de...
le principal conjoncturiste am ricain interroger par le Wall Street...
 done successfully.



Executing test function test_readFile  ...  done successfully.



Executing test function test_readFile_depth  ...  done successfully.



Executing test function test_readFile_nonexistent_file  ... Error in lines2fullText(fileName) : cannot read or access file
 done successfully.



Executing test function test_readFiles  ...  done successfully.



Executing test function test_readFiles_nonexistent_file  ... Error in files2fullText(c(fileName1, fileName2)) : 
  cannot read or access some files
 done successfully.



Executing test function test_summary.fullText  ... [1] "A raw corpus with 3 parts and  298 tokens"
 done successfully.



Executing test function test_tokenize  ...  done successfully.



Executing test function test_tokenize_with_empty_string  ... Error in .tokenize(parts, "[^A-Za-zÃ©Ã¨ÃªÃ«Ã\u0089Ã\u0088Ã\u008aÃ\u008bÃ Ã¢Ã¤Ã\u0080Ã\u0082Ã\u0084Ã´Ã¶Ã\u0094Ã\u0096Ã¹Ã»Ã¼Ã\u0099Ã\u009bÃ\u009cÃ§Ã\u0087Ã®Ã¯Ã\u008eÃ\u008f]+") : 
  parts must not contain empty string
De plus : Messages d'avis :
1: In deparse(call) :
  it is not known that wchar_t is Unicode on this platform
2: In deparse(call) :
  it is not known that wchar_t is Unicode on this platform
 done successfully.



Executing test function test_lexicalTable_creation_with_data.frame  ...  done successfully.



Executing test function test_lexicalTable_creation_with_dense_matrix  ...  done successfully.



Executing test function test_lexicalTable_creation_with_dense_matrix_nocolnames  ... Error in lexicalTable(m) : must have rownames
 done successfully.



Executing test function test_lexicalTable_creation_with_dense_matrix_norownames  ... Error in lexicalTable(m) : must have rownames
 done successfully.



Executing test function test_lexicalTable_creation_with_sparse_matrix  ...  done successfully.



Executing test function test_readLexicalTable  ... Read 845268 items
Read 11274 items
Read 840 items
 done successfully.



Executing test function test_tabulated_subcorpus_all.arguments  ...  done successfully.



Executing test function test_tabulated_subcorpus_all.arguments_positional_not_found  ... Error in subcorpus(c, "cit", "foobar", "taille") : 
  positional attribute not found
 done successfully.



Executing test function test_tabulated_subcorpus_structural  ...  done successfully.



Executing test function test_tabulated_subcorpus_structural_not_found  ... Error in subcorpus(c, "foo") : structural attribute not found
 done successfully.



Executing test function test_read.reetagger_contains.xml.no  ...  done successfully.



Executing test function test_read.reetagger_discard.xml  ...  done successfully.



Executing test function test_read.reetagger_test_header  ...  done successfully.



Executing test function test_read.treetagger_file_doesnot_exist  ... Error in read.treetagger(fileName) : cannot read or access file
 done successfully.



Executing test function test_read.treetagger_file_with_xml  ...  done successfully.



Executing test function test_wam.frequencyList  ... Timing stopped at: 0.008 0.001 0.009 
Error in attr(measured, "N") <- N : 
  tentative de changer un attribut en NULL
De plus : Messages d'avis :
1: In specif[specif_negative] <- phyper(whiteDrawn[specif_negative],  :
  le nombre d'objets à remplacer n'est pas multiple de la taille du remplacement
2: In specif[specif_positive] <- phyper(whiteDrawn[specif_positive] -  :
  le nombre d'objets à remplacer n'est pas multiple de la taille du remplacement
 done successfully.



Executing test function test_wam.fullText  ... Timing stopped at: 0.009 0 0.009 
Error in UseMethod("wam") : 
  pas de méthode pour 'wam' applicable pour un objet de classe "c('LexicalTable', 'dgCMatrix', 'CsparseMatrix', 'dsparseMatrix', 'generalMatrix', 'dMatrix', 'sparseMatrix', 'compMatrix', 'Matrix')"
 done successfully.



Executing test function test_wam.lexicalTable  ... Timing stopped at: 0.032 0.002 0.033 
Error in UseMethod("wam") : 
  pas de méthode pour 'wam' applicable pour un objet de classe "c('LexicalTable', 'dgCMatrix', 'CsparseMatrix', 'dsparseMatrix', 'generalMatrix', 'dMatrix', 'sparseMatrix', 'compMatrix', 'Matrix')"
 done successfully.



Executing test function test_wam.numeric  ...  done successfully.



Executing test function test_wam.tabulated  ... Timing stopped at: 0.013 0 0.013 
Error in UseMethod("wam") : 
  pas de méthode pour 'wam' applicable pour un objet de classe "c('LexicalTable', 'dgCMatrix', 'CsparseMatrix', 'dsparseMatrix', 'generalMatrix', 'dMatrix', 'sparseMatrix', 'compMatrix', 'Matrix')"
 done successfully.



Executing test function test.specificities  ...  done successfully.

------------------- UNIT TEST SUMMARY ---------------------

RUNIT TEST PROTOCOL -- Sun Dec 30 15:47:33 2012 
*********************************************** 
Number of test functions: 39 
Number of errors: 4 
Number of failures: 0 

 
1 Test Suite : 
lexicalStat unit testing - 39 test functions, 4 errors, 0 failures
ERROR in test_wam.frequencyList: Error in attr(measured, "N") <- N : 
  tentative de changer un attribut en NULL
ERROR in test_wam.fullText: Error in UseMethod("wam") : 
  pas de méthode pour 'wam' applicable pour un objet de classe "c('LexicalTable', 'dgCMatrix', 'CsparseMatrix', 'dsparseMatrix', 'generalMatrix', 'dMatrix', 'sparseMatrix', 'compMatrix', 'Matrix')"
ERROR in test_wam.lexicalTable: Error in UseMethod("wam") : 
  pas de méthode pour 'wam' applicable pour un objet de classe "c('LexicalTable', 'dgCMatrix', 'CsparseMatrix', 'dsparseMatrix', 'generalMatrix', 'dMatrix', 'sparseMatrix', 'compMatrix', 'Matrix')"
ERROR in test_wam.tabulated: Error in UseMethod("wam") : 
  pas de méthode pour 'wam' applicable pour un objet de classe "c('LexicalTable', 'dgCMatrix', 'CsparseMatrix', 'dsparseMatrix', 'generalMatrix', 'dMatrix', 'sparseMatrix', 'compMatrix', 'Matrix')"
Erreur : 

unit testing failed (#test failures: 0, #R errors: 4)

Exécution arrêtée
