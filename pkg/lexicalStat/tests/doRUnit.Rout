
R version 2.15.0 (2012-03-30)
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R est un logiciel libre livré sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de détails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la façon de le citer dans les publications.

Tapez 'demo()' pour des démonstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

[Sauvegarde de la session précédente restaurée]

> #http://rwiki.sciviews.org/doku.php?id=developers%3arunit
> 
> if(!require("RUnit")) {
+     stop("RUnit package must be installed in order for the tests to be executed");
+ }
Le chargement a nécessité le package : RUnit
> 
> ## unit tests will not be done if RUnit is not available
> if(require("RUnit", quietly=TRUE)) {
+  
+   ## --- Setup ---
+ 
+   pkg <- "lexicalStat" 
+   if(Sys.getenv("RCMDCHECK") == "FALSE") {
+     ## Path to unit tests for standalone running under Makefile (not R CMD check)
+     ## PKG/tests/../inst/unitTests
+     path <- file.path(getwd(), "..", "tests", "unitTests")
+   } else {
+     ## Path to unit tests for R CMD check
+     ## PKG.Rcheck/tests/../PKG/unitTests
+     path <- system.file(package=pkg, "unitTests")
+   }
+   cat("\nRunning unit tests\n")
+   print(list(pkg=pkg, getwd=getwd(), pathToUnitTests=path))
+  
+   library(package=pkg, character.only=TRUE)
+  
+   ## If desired, load the name space to allow testing of private functions
+   ## if (is.element(pkg, loadedNamespaces()))
+   ##     attach(loadNamespace(pkg), name=paste("namespace", pkg, sep=":"), pos=3)
+   ##
+   ## or simply call PKG:::myPrivateFunction() in tests
+  
+   ## --- Testing ---
+ 
+   ## Define tests
+   testSuite <- defineTestSuite(name=paste(pkg, "unit testing"),
+                                           dirs=path);
+   ## Run
+   tests <- runTestSuite(testSuite)
+ 
+   ## Default report name
+   pathReport <- file.path(path, "report")
+  
+   ## Report to stdout and text files
+   cat("------------------- UNIT TEST SUMMARY ---------------------\n\n")
+   printTextProtocol(tests, showDetails=FALSE)
+   printTextProtocol(tests, showDetails=FALSE,
+                     fileName=paste(pathReport, "Summary.txt", sep=""))
+   printTextProtocol(tests, showDetails=TRUE,
+                     fileName=paste(pathReport, ".txt", sep=""))
+  
+   ## Report to HTML file
+   printHTMLProtocol(tests, fileName=paste(pathReport, ".html", sep=""))
+  
+   ## Return stop() to cause R CMD check stop in case of
+   ##  - failures i.e. FALSE to unit tests or
+   ##  - errors i.e. R errors
+   tmp <- getErrors(tests)
+   if(tmp$nFail > 0 | tmp$nErr > 0) {
+     stop(paste("\n\nunit testing failed (#test failures: ", tmp$nFail,
+                ", #R errors: ",  tmp$nErr, ")\n\n", sep=""))
+   }
+ } else {
+   warning("cannot run unit tests -- package RUnit is not available")
+ }

Running unit tests
$pkg
[1] "lexicalStat"

$getwd
[1] "/Users/sylvainloiseau/workspace/LexicalStat/Current/pkg/lexicalStat/tests"

$pathToUnitTests
[1] "/Users/sylvainloiseau/workspace/LexicalStat/Current/pkg/lexicalStat/tests/../tests/unitTests"

Le chargement a nécessité le package : Matrix
Le chargement a nécessité le package : lattice
Le chargement a nécessité le package : XML
Le chargement a nécessité le package : plyr

Attachement du package : ‘lexicalStat’

The following object(s) are masked from ‘package:stats’:

    binomial



Executing test function test_asFrequencyList.FullText  ... Timing stopped at: 0.023 0.001 0.025 
Error in as(x, "FrequencyList") : 
  no method or default for coercing "FullText" to "FrequencyList"
 done successfully.



Executing test function test_asFrequencyList.LexicalTable  ... Timing stopped at: 0.004 0 0.005 
Error in as(x, "FrequencyList") : 
  no method or default for coercing "FullText" to "FrequencyList"
 done successfully.



Executing test function test_asFrequencyList.Tabulated  ... Timing stopped at: 0.002 0 0.002 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "asFrequencyList", for signature "Tabulated", "missing"
 done successfully.



Executing test function test_asFullText.tabulated  ... Timing stopped at: 0.001 0 0.002 
Error in func() : impossible de trouver la fonction "asFullText"
 done successfully.



Executing test function test_asLexicalTable.FullText  ... Timing stopped at: 0.027 0.001 0.028 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FullText"
 done successfully.



Executing test function test_asLexicalTable.Tabulated  ... Timing stopped at: 0.002 0 0.002 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "asLexicalTable", for signature "Tabulated", "missing", "missing"
 done successfully.



Executing test function test_asTabulated.fullText  ... Timing stopped at: 0.014 0 0.015 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FullText"
 done successfully.



Executing test function test_corpus_isCorpus_frequencyList  ... Timing stopped at: 0.003 0.001 0.003 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FrequencyList"
 done successfully.



Executing test function test_corpus_isCorpus_FullText  ... Timing stopped at: 0.002 0 0.003 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FullText"
 done successfully.



Executing test function test_corpus_isCorpus_LexicalTable  ... Timing stopped at: 0.003 0 0.003 
Error in checkEqualsNumeric(26, V(i)) : 
  Mean relative difference: 0.07692308
 done successfully.



Executing test function test_corpus_isCorpus_Tabulated  ... Timing stopped at: 0.005 0.001 0.007 
Error in obj[, positional] : 
  erreur d'évaluation de l'argument 'j' lors de la sélection d'une méthode pour la fonction '[' : Erreur : l'argument "positional" est manquant, avec aucune valeur par défaut

 done successfully.



Executing test function test_frequencyList_frequencyList  ...  done successfully.



Executing test function test_frequencyList_frequencyList_empty_names  ... Timing stopped at: 0.001 0 0.001 
Error in checkException(frequencyList(x)) : 
  Error not generated as expected

 done successfully.



Executing test function test_frequencyList_frequencyList_nonames  ... Error in frequencyList.numeric(x) : frequencyList needs an named vector
 done successfully.



Executing test function test_frequencyList_frequencyList_not_numeric  ... Error in UseMethod("frequencyList") : 
  pas de méthode pour 'frequencyList' applicable pour un objet de classe "character"
 done successfully.



Executing test function test_frequencyList_frequencyList2  ...  done successfully.



Executing test function test_frequencyList_print  ...    type frequency
1     A         2
2     B         1
3     E         1
4     G         2
5     J         1
6     K         1
7     M         1
8     N         1
9     O         3
10    P         1
11    Q         3
12    R         1
13    S         2
 done successfully.



Executing test function test_get.parts.containing.all.form  ... Timing stopped at: 0.001 0 0.001 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_get.parts.containing.form  ... Timing stopped at: 0.001 0 0.001 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_print.fullText  ... Timing stopped at: 0 0.001 0 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_readFile  ... Timing stopped at: 0.001 0 0.001 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_readFile_depth  ... Timing stopped at: 0.001 0 0.001 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_readFile_nonexistent_file  ... Error in eval(expr, envir = parent.frame()) : 
  impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_readFiles  ... Timing stopped at: 0.002 0.001 0.002 
Error in func() : impossible de trouver la fonction "files2fullText"
 done successfully.



Executing test function test_readFiles_nonexistent_file  ... Error in eval(expr, envir = parent.frame()) : 
  impossible de trouver la fonction "files2fullText"
 done successfully.



Executing test function test_summary.fullText  ... Timing stopped at: 0.001 0 0.001 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_tokenize  ...  done successfully.



Executing test function test_tokenize_with_empty_string  ... Error in .tokenize(parts, "[^A-Za-zÃ©Ã¨ÃªÃ«Ã\u0089Ã\u0088Ã\u008aÃ\u008bÃ Ã¢Ã¤Ã\u0080Ã\u0082Ã\u0084Ã´Ã¶Ã\u0094Ã\u0096Ã¹Ã»Ã¼Ã\u0099Ã\u009bÃ\u009cÃ§Ã\u0087Ã®Ã¯Ã\u008eÃ\u008f]+") : 
  parts must not contain empty string
De plus : Messages d'avis :
1: In deparse(call) :
  it is not known that wchar_t is Unicode on this platform
2: In deparse(call) :
  it is not known that wchar_t is Unicode on this platform
 done successfully.



Executing test function test_lexicalTable_creation_with_data.frame  ...  done successfully.



Executing test function test_lexicalTable_creation_with_dense_matrix  ...  done successfully.



Executing test function test_lexicalTable_creation_with_dense_matrix_nocolnames  ... Error in lexicalTable(m) : must have rownames
 done successfully.



Executing test function test_lexicalTable_creation_with_dense_matrix_norownames  ... Error in lexicalTable(m) : must have rownames
 done successfully.



Executing test function test_lexicalTable_creation_with_sparse_matrix  ...  done successfully.



Executing test function test_readLexicalTable  ... Timing stopped at: 0.001 0 0.001 
Error in readLexicalTable(base) : cannot read or access some files
 done successfully.



Executing test function test_tabulated_subcorpus_all.arguments  ... Timing stopped at: 0.011 0.001 0.011 
Error in func() : impossible de trouver la fonction "subcorpus"
 done successfully.



Executing test function test_tabulated_subcorpus_all.arguments_positional_not_found  ... Error in eval(expr, envir = parent.frame()) : 
  impossible de trouver la fonction "subcorpus"
 done successfully.



Executing test function test_tabulated_subcorpus_structural  ... Timing stopped at: 0.006 0.001 0.007 
Error in func() : impossible de trouver la fonction "subcorpus"
 done successfully.



Executing test function test_tabulated_subcorpus_structural_not_found  ... Error in eval(expr, envir = parent.frame()) : 
  impossible de trouver la fonction "subcorpus"
 done successfully.



Executing test function test_read.reetagger_contains.xml.no  ... Timing stopped at: 0.004 0 0.004 
Error in validObject(.Object) : 
  invalid class “Tabulated” object: invalid object for slot "structural" in class "Tabulated": got class "NULL", should be or extend class "character"
 done successfully.



Executing test function test_read.reetagger_discard.xml  ...  done successfully.



Executing test function test_read.reetagger_test_header  ...  done successfully.



Executing test function test_read.treetagger_file_doesnot_exist  ... Error in read.treetagger(fileName) : cannot read or access file
 done successfully.



Executing test function test_read.treetagger_file_with_xml  ...  done successfully.



Executing test function test_specificities  ...  done successfully.



Executing test function test_wam.frequencyList  ... Timing stopped at: 0.013 0 0.012 
Error in func() : impossible de trouver la fonction "subcorpus"
 done successfully.



Executing test function test_wam.fullText  ... Timing stopped at: 0.001 0 0.001 
Error in func() : impossible de trouver la fonction "lines2fullText"
 done successfully.



Executing test function test_wam.lexicalTable  ...  done successfully.



Executing test function test_wam.numeric  ... Timing stopped at: 0.001 0 0 
Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "wam", for signature "numeric"
 done successfully.



Executing test function test_wam.tabulated  ... Timing stopped at: 0.01 0.001 0.01 
Error in .local(corpus, measure, types, positional, structural) : 
  positional cannot be null
 done successfully.



Executing test function test.specificities  ...  done successfully.

------------------- UNIT TEST SUMMARY ---------------------

RUNIT TEST PROTOCOL -- Fri Jan  4 19:40:49 2013 
*********************************************** 
Number of test functions: 50 
Number of errors: 25 
Number of failures: 2 

 
1 Test Suite : 
lexicalStat unit testing - 50 test functions, 25 errors, 2 failures
ERROR in test_asFrequencyList.FullText: Error in as(x, "FrequencyList") : 
  no method or default for coercing "FullText" to "FrequencyList"
ERROR in test_asFrequencyList.LexicalTable: Error in as(x, "FrequencyList") : 
  no method or default for coercing "FullText" to "FrequencyList"
ERROR in test_asFrequencyList.Tabulated: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "asFrequencyList", for signature "Tabulated", "missing"
ERROR in test_asFullText.tabulated: Error in func() : impossible de trouver la fonction "asFullText"
ERROR in test_asLexicalTable.FullText: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FullText"
ERROR in test_asLexicalTable.Tabulated: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "asLexicalTable", for signature "Tabulated", "missing", "missing"
ERROR in test_asTabulated.fullText: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FullText"
ERROR in test_corpus_isCorpus_frequencyList: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FrequencyList"
ERROR in test_corpus_isCorpus_FullText: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "types", for signature "FullText"
FAILURE in test_corpus_isCorpus_LexicalTable: Error in checkEqualsNumeric(26, V(i)) : 
  Mean relative difference: 0.07692308
ERROR in test_corpus_isCorpus_Tabulated: Error in obj[, positional] : 
  erreur d'évaluation de l'argument 'j' lors de la sélection d'une méthode pour la fonction '[' : Erreur : l'argument "positional" est manquant, avec aucune valeur par défaut

FAILURE in test_frequencyList_frequencyList_empty_names: Error in checkException(frequencyList(x)) : 
  Error not generated as expected

ERROR in test_get.parts.containing.all.form: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_get.parts.containing.form: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_print.fullText: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_readFile: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_readFile_depth: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_readFiles: Error in func() : impossible de trouver la fonction "files2fullText"
ERROR in test_summary.fullText: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_readLexicalTable: Error in readLexicalTable(base) : cannot read or access some files
ERROR in test_tabulated_subcorpus_all.arguments: Error in func() : impossible de trouver la fonction "subcorpus"
ERROR in test_tabulated_subcorpus_structural: Error in func() : impossible de trouver la fonction "subcorpus"
ERROR in test_read.reetagger_contains.xml.no: Error in validObject(.Object) : 
  invalid class “Tabulated” object: invalid object for slot "structural" in class "Tabulated": got class "NULL", should be or extend class "character"
ERROR in test_wam.frequencyList: Error in func() : impossible de trouver la fonction "subcorpus"
ERROR in test_wam.fullText: Error in func() : impossible de trouver la fonction "lines2fullText"
ERROR in test_wam.numeric: Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function "wam", for signature "numeric"
ERROR in test_wam.tabulated: Error in .local(corpus, measure, types, positional, structural) : 
  positional cannot be null
Erreur : 

unit testing failed (#test failures: 2, #R errors: 25)

Exécution arrêtée
