
R version 2.15.0 (2012-03-30)
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R est un logiciel libre livré sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de détails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la façon de le citer dans les publications.

Tapez 'demo()' pour des démonstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

> #http://rwiki.sciviews.org/doku.php?id=developers%3arunit
> 
> if(!require("RUnit")) {
+     stop("RUnit package must be installed in order for the tests to be executed");
+ }
Le chargement a nécessité le package : RUnit
> 
> ## unit tests will not be done if RUnit is not available
> if(require("RUnit", quietly=TRUE)) {
+  
+   ## --- Setup ---
+ 
+   pkg <- "lexicalStat" 
+   if(Sys.getenv("RCMDCHECK") == "FALSE") {
+     ## Path to unit tests for standalone running under Makefile (not R CMD check)
+     ## PKG/tests/../inst/unitTests
+     path <- file.path(getwd(), "..", "tests", "unitTests")
+   } else {
+     ## Path to unit tests for R CMD check
+     ## PKG.Rcheck/tests/../PKG/unitTests
+     path <- system.file(package=pkg, "unitTests")
+   }
+   cat("\nRunning unit tests\n")
+   print(list(pkg=pkg, getwd=getwd(), pathToUnitTests=path))
+  
+   library(package=pkg, character.only=TRUE)
+  
+   ## If desired, load the name space to allow testing of private functions
+   ## if (is.element(pkg, loadedNamespaces()))
+   ##     attach(loadNamespace(pkg), name=paste("namespace", pkg, sep=":"), pos=3)
+   ##
+   ## or simply call PKG:::myPrivateFunction() in tests
+  
+   ## --- Testing ---
+ 
+   ## Define tests
+   testSuite <- defineTestSuite(name=paste(pkg, "unit testing"),
+                                           dirs=path);
+   ## Run
+   tests <- runTestSuite(testSuite)
+ 
+   ## Default report name
+   pathReport <- file.path(path, "report")
+  
+   ## Report to stdout and text files
+   cat("------------------- UNIT TEST SUMMARY ---------------------\n\n")
+   printTextProtocol(tests, showDetails=FALSE)
+   printTextProtocol(tests, showDetails=FALSE,
+                     fileName=paste(pathReport, "Summary.txt", sep=""))
+   printTextProtocol(tests, showDetails=TRUE,
+                     fileName=paste(pathReport, ".txt", sep=""))
+  
+   ## Report to HTML file
+   printHTMLProtocol(tests, fileName=paste(pathReport, ".html", sep=""))
+  
+   ## Return stop() to cause R CMD check stop in case of
+   ##  - failures i.e. FALSE to unit tests or
+   ##  - errors i.e. R errors
+   tmp <- getErrors(tests)
+   if(tmp$nFail > 0 | tmp$nErr > 0) {
+     stop(paste("\n\nunit testing failed (#test failures: ", tmp$nFail,
+                ", #R errors: ",  tmp$nErr, ")\n\n", sep=""))
+   }
+ } else {
+   warning("cannot run unit tests -- package RUnit is not available")
+ }

Running unit tests
$pkg
[1] "lexicalStat"

$getwd
[1] "/Users/sylvainloiseau/workspace/LexicalStat/Current/pkg/lexicalStat/tests"

$pathToUnitTests
[1] "/Users/sylvainloiseau/workspace/LexicalStat/Current/pkg/lexicalStat/tests/../tests/unitTests"

Le chargement a nécessité le package : Matrix
Le chargement a nécessité le package : lattice
Le chargement a nécessité le package : XML

Attachement du package : ‘lexicalStat’

The following object(s) are masked from ‘package:stats’:

    binomial



Executing test function test_as_fullText_tabulated  ...  done successfully.



Executing test function test_print_fullText  ... [1] "A raw corpus with 3 parts and  298 tokens"
le croissance de produit int rieur brut pib devoir se...
« Il ne y avoir aucun raison ni besoin de...
le principal conjoncturiste am ricain interroger par le Wall Street...
 done successfully.



Executing test function test_readFile  ...  done successfully.



Executing test function test_readFiles  ...  done successfully.



Executing test function test_summary_fullText  ... [1] "A raw corpus with 3 parts and  298 tokens"
 done successfully.



Executing test function test_creation_with_dense_matrix  ...  done successfully.



Executing test function test_read_treetagger_file_with_xml  ... [1] "Read lines"
[1] "Removing XML header if any"
[1] "Is markup ?"
[1] "Field length ?"
[[1]]
[1] "<EntryFree>"

[[2]]
[1] "<form>"

[[3]]
[1] "baba" "ADJ"  "baba"

[[4]]
[1] "</form>"

[[5]]
[1] "<def>"

[[6]]
[1] "Gâteau" "NOM"    "gâteau"

[[7]]
[1] "dans" "PRP"  "dans"

[[8]]
[1] "lequel"  "PRO:REL" "lequel" 

[[9]]
[1] "il"      "PRO:PER" "il"     

[[10]]
[1] "entre"    "VER:pres" "entrer"  

[[11]]
[1] "du"      "PRP:det" "du"     

[[12]]
[1] "cédrat" "NOM"    "cédrat"

[[13]]
[1] ","   "PUN" ","  

[[14]]
[1] "du"      "PRP:det" "du"     

[[15]]
[1] "raisin" "NOM"    "raisin"

[[16]]
[1] "de"  "PRP" "de" 

[[17]]
[1] "Corinthe" "NAM"      "Corinthe"

[[18]]
[1] "et"  "KON" "et" 

[[19]]
[1] "du"      "PRP:det" "du"     

[[20]]
[1] "rhum" "NOM"  "rhum"

[1] "Is field ?"
[[1]]
[1] "<EntryFree>" ""            ""           

[[2]]
[1] "<form>" ""       ""      

[[3]]
[1] "baba" "ADJ"  "baba"

[[4]]
[1] "</form>" ""        ""       

[[5]]
[1] "<def>" ""      ""     

[[6]]
[1] "Gâteau" "NOM"    "gâteau"

[[7]]
[1] "dans" "PRP"  "dans"

[[8]]
[1] "lequel"  "PRO:REL" "lequel" 

[[9]]
[1] "il"      "PRO:PER" "il"     

[[10]]
[1] "entre"    "VER:pres" "entrer"  

[[11]]
[1] "du"      "PRP:det" "du"     

[[12]]
[1] "cédrat" "NOM"    "cédrat"

[[13]]
[1] ","   "PUN" ","  

[[14]]
[1] "du"      "PRP:det" "du"     

[[15]]
[1] "raisin" "NOM"    "raisin"

[[16]]
[1] "de"  "PRP" "de" 

[[17]]
[1] "Corinthe" "NAM"      "Corinthe"

[[18]]
[1] "et"  "KON" "et" 

[[19]]
[1] "du"      "PRP:det" "du"     

[[20]]
[1] "rhum" "NOM"  "rhum"

[1] "Is well formed ?"
[1] "Is end tag ?"
[1] "form"      "def"       "EntryFree" "cit"      
[1] "EntryFree" "form"      "def"       "cit"      
[1] "Checking start and end tag match"
[1] "Iterating on each tag"
[1] "... EntryFree"
[1] 1
[1] 26
[1] "... ... itÃ©rations: 19"
[1] "... form"
[1] 2
[1] 4
[1] "... ... itÃ©rations: 19"
[1] "... def"
[1] 5
[1] 25
[1] "... ... itÃ©rations: 23"
[1] "... cit"
[1] 189
[1] 201
[1] "... ... itÃ©rations: 1"
 done successfully.

------------------- UNIT TEST SUMMARY ---------------------

RUNIT TEST PROTOCOL -- Sun Dec 30 00:15:16 2012 
*********************************************** 
Number of test functions: 7 
Number of errors: 0 
Number of failures: 0 

 
1 Test Suite : 
lexicalStat unit testing - 7 test functions, 0 errors, 0 failures
> 
> 
> proc.time()
utilisateur     système      écoulé 
      3.230       0.088       3.311 
